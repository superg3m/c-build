# This build file has been generated by C-Build
$ErrorActionPreference = "Stop"
Set-StrictMode -Version Latest
$PSNativeCommandUseErrorActionPreference = $true

$configPath = "c_build_config.json"
$jsonData = Get-Content -Path $configPath -Raw | ConvertFrom-Json

$project_name = $jsonData.'$project_name'

Push-Location  ".\C-BUILD"
git stash
git stash drop
git pull
Pop-Location


Push-Location $build_directory
    if ($build_lib -eq $false) {
        & "./$output_name"
    }
Pop-Location
./build.ps1 -project_name $project_name -build_directory $key -build_json $jsonData

# run is complicated because what do you want to run?

