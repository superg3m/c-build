# This build file has been generated by C-Build



Push-Location  "./c-build"
git fetch origin -q
git reset --hard origin/main -q
git pull -q
Pop-Location

$project = $json_config_path = "c_build_config.json"
$jsonData = Parse_JsonFile($json_config_path);
$project = [Project]::new($jsonData, $compiler_type)

$project.CleanAll

foreach ($build_procedure in $project.build_procedures) {
    $build_procedure_name = $build_procedure.build_directory

    Write-Host "running [$project_name - $build_procedure_name] clean.ps1..." -ForegroundColor Green
    $build_procedure.Clean()
}

# ok clean is not quiet right anymore you need to clean all build_procedures